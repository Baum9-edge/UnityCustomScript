#NULLABLE_FLAG##USING_DIRECTIVE#

#if UNITY_EDITOR
using UnityEditor;
#endif

namespace #NAMESPACE##FOLDER_PATH#
{
    public class #SCRIPTNAME# : MonoBehaviour
    {
        [SerializeField] private int m_SampleValue = 0;

        private void Awake()
        {
        }

        private void Start()
        {
        }

        private void Update()
        {
        }

#if UNITY_EDITOR
        [CustomEditor(typeof(#SCRIPTNAME#))]
        public class #SCRIPTNAME#Inspector : Editor
        {
            private #SCRIPTNAME# instance => target as #SCRIPTNAME#;

            // SerializedProperty（参照元クラスの変数）
            private SerializedProperty m_SampleValueProp;

            private void OnEnable()
            {
                m_SampleValueProp = serializedObject.FindProperty(nameof(instance.m_SampleValue));
            }

            public override void OnInspectorGUI()
            {
                var style = new GUIStyle(EditorStyles.helpBox)
                {
                    padding = new RectOffset(8, 8, 0, 0)
                };

                GUILayout.Box(@"スクリプトの概要
ここにこのクラスの説明を書いておく。",
                    style
                );

                EditorGUILayout.Space(10);

                // --- デフォルトの Inspector 描画（必要なら） ---
                // base.OnInspectorGUI();

                // --- Inspector 上からの値変更開始 ---
                serializedObject.Update();

                // SerializedProperty の描画
                EditorGUILayout.PropertyField(m_SampleValueProp);

                // private フィールドを直接操作する例
                if (GUILayout.Button("Increase Sample Value"))
                {
                    System.Reflection.FieldInfo field = instance.GetType()
                        .GetField(nameof(instance.m_SampleValue),
                        System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance);

                    int current = (int)(field?.GetValue(instance) ?? 0);
                    field?.SetValue(instance, current + 1);
                }

                // --- 値変更終わり ---
                serializedObject.ApplyModifiedProperties();
            }
        }
#endif
    }
}